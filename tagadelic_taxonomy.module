<?php
/**
 * @file tagadelic.module
 * Library to build tagclouds.
 * @author BÃ¨r Kessels <ber@webschuur.com>
 * @link http://berk.es
 */

/**
 * Implements hook_menu().
 * @see hook_menu()
 */
function tagadelic_taxonomy_menu() {
  $items['tagadelic_taxonomy'] = array(
    'title' => 'Tag Cloud',
    'page callback' => 'tagadelic_taxonomy_cloud',
    'access callback' => TRUE,
    'expanded' => TRUE,
  );
  return $items;
}

/**
 * Constructs a simple page.
 */
function tagadelic_taxonomy_cloud() {
  return join(", ", tagadelic_taxonomy_get_tags());
}

function tagadelic_taxonomy_get_tags() {
  $terms = array();
  $query = db_select('taxonomy_term_data', 't');
  $result = $query
    ->fields('t')
    ->execute();

  foreach ($result as $term) {
    $terms[$term->tid] = $term->name;
  }

  return $terms;
}

